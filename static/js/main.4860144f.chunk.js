(this["webpackJsonpfile-uploads"]=this["webpackJsonpfile-uploads"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),l=n(2),i=n.n(l),r=(n(13),n(3)),s=n(4),c=n(6),u=n(5),p=n(7),f=(n(14),"https://boiling-caverns-58324.herokuapp.com"),d=function(e){function t(){var e,n;Object(r.a)(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={file:null},n.uploadFile=function(e,t,n){var o=new XMLHttpRequest;o.open("PUT",t),o.onreadystatechange=function(){4===o.readyState&&(200===o.status?console.log(n):alert("Could not upload file."))},o.send(e)},n.getSignedRequest=function(e){var t=new XMLHttpRequest;t.open("GET","".concat(f,"/sign-s3?file-name=").concat(e.name,"&file-type=").concat(e.type)),t.onreadystatechange=function(){if(console.log(t.responseText),4===t.readyState)if(200===t.status){var o=JSON.parse(t.responseText);console.log(o),n.uploadFile(e,o.signedRequest,o.url)}else alert("Could not get signed URL.")},t.send()},n.onFormSubmit=function(e){e.preventDefault();var t=document.getElementById("file-input").files[0];if(null==t)return alert("No file selected.");console.log(t),n.getSignedRequest(t)},n.onChange=function(e){n.setState({file:e.target.files[0]})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),a.a.createElement("div",{className:"App"},a.a.createElement("div",null,"File Upload"),a.a.createElement("form",{onSubmit:function(t){return e.onFormSubmit(t)}},a.a.createElement("h1",null,"File Upload"),a.a.createElement("input",{type:"file",name:"myImage",id:"file-input",onChange:function(t){return e.onChange(t)}}),a.a.createElement("button",{type:"submit"},"Upload")))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.4860144f.chunk.js.map